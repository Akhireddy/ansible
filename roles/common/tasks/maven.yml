- name: Install Maven
  ansible.builtin.yum:
    name:
      - maven
    state: installed

- name: Application User Setup and Download App Files
  import_tasks: app-user-setup.yml

- name: Compile Code
  ansible.builtin.shell: mvn clean package && mv target/{{COMPONENT}}-1.0.jar {{COMPONENT}}.jar
  args:
    chdir: /home/roboshop/{{COMPONENT}}
  become_user: roboshop


#- name: Update {{COMPONENT}} SystemD file
#  ansible.builtin.template:
#    src: systemd.service
#    dest: /etc/systemd/system/{{COMPONENT}}.service
#
#- name: Start {{COMPONENT}} Service
#  ansible.builtin.systemd:
#    name: "{{COMPONENT}}"
#    state: restarted
#    enabled: yes
#    daemon_reload: yes



